---
phase: 06-stats-page
plan: '01'
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/profile/stats/StatsClient.tsx
autonomous: true
requirements: []
must_haves:
  truths:
    - User can see 4 content type cards at top of /profile/stats page
    - Each card displays the correct count for its type
    - Cards use same styling as /profile page (ProfileStats.tsx)
    - Cards link to /my-movies with appropriate filters
  artifacts:
    - path: src/app/profile/stats/StatsClient.tsx
      provides: Stats page with type breakdown cards
      contains: typeBreakdown section with 4 cards
  key_links:
    - from: StatsClient.tsx
      to: /api/user/stats
      via: fetch in useEffect
      pattern: typeBreakdown
---

<objective>
Add 4 content type cards to the top of /profile/stats page.

Purpose: Display watched content breakdown by type (Фильмы, Сериалы, Аниме, Мульты) in horizontal cards at the top of the stats page.
Output: Updated StatsClient.tsx with type breakdown cards section.
</objective>

<context>
@.planning/PROJECT.md
@src/app/profile/components/ProfileStats.tsx (lines 126-175 - pattern to copy)
@src/app/profile/stats/StatsClient.tsx (file to modify)
</context>

<tasks>

<task type="auto">
  <name>Add type breakdown cards to StatsClient.tsx</name>
  <files>src/app/profile/stats/StatsClient.tsx</files>
  <action>
Add the Film, Tv, and Monitor imports from lucide-react. Then add the type breakdown cards section after the back link and before the loading indicator.

Use the exact pattern from ProfileStats.tsx lines 126-175:
- Create a grid with `grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4`
- 4 Link cards: Фильмы (Film icon, purple), Сериалы (Tv icon, cyan), Мультфильмы (Monitor icon, pink), Аниме (Monitor icon, indigo)
- Each links to `/my-movies?tab=watched&media={type}`
- Display stats.typeBreakdown.{type} as the count value

Place this section:
1. After line 239 (the back Link)
2. Before line 241 (the isLoading && progress > 0 check)
3. Wrap in a section similar to ProfileStats structure
  </action>
  <verify>
Check that StatsClient.tsx now imports Film, Tv, Monitor from lucide-react and has a type breakdown cards section with 4 cards.
  </verify>
  <done>StatsClient.tsx displays 4 content type cards (Фильмы, Сериалы, Аниме, Мульты) with correct counts from typeBreakdown API data</done>
</task>

<task type="auto">
  <name>Verify implementation</name>
  <files>src/app/profile/stats/StatsClient.tsx</files>
  <action>
Run lint to verify no TypeScript errors:
```
npm run lint
```
  </action>
  <verify>npm run lint passes</verify>
  <done>Lint passes with no errors</done>
</task>

</tasks>

<verification>
- [ ] Stats page shows 4 content type cards at top
- [ ] Cards display correct counts from typeBreakdown
- [ ] Cards use same styling as /profile page
- [ ] Each card links to /my-movies with appropriate media filter
</verification>

<success_criteria>
The /profile/stats page displays 4 horizontal cards (Фильмы, Сериалы, Аниме, Мульты) at the top, each showing the count of watched content for that type. Styling matches ProfileStats.tsx pattern.
</success_criteria>

<output>
After completion, create `.planning/phases/06-stats-page/06-01-SUMMARY.md`
</output>
