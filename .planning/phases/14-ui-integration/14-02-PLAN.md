---
phase: 14-ui-integration
plan: '02'
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/admin/monitoring/page.tsx
  - src/app/components/MLDashboard.tsx
autonomous: true
requirements: []

must_haves:
  truths:
    - "Admin can view recommendation algorithm performance metrics"
    - "Admin can see discrepancy between predicted and actual user responses"
    - "Admin can apply model corrections to improve recommendations"
    - "Dashboard shows cold start vs active user distribution"
  artifacts:
    - path: "src/app/admin/monitoring/page.tsx"
      provides: "Admin page with ML dashboard section"
      contains: "MLDashboard"
    - path: "src/app/components/MLDashboard.tsx"
      provides: "ML monitoring and discrepancy dashboard"
      exports: ["MLDashboard"]
  key_links:
    - from: "src/app/admin/monitoring/page.tsx"
      to: "/api/recommendations/stats"
      via: "MLDashboard component"
      pattern: "fetch.*stats"
---

<objective>
Create an ML Dashboard for admin users to monitor recommendation algorithm performance, view discrepancies between predictions and actual user responses, and apply model corrections.
</objective>

<context>
@.planning/ROADMAP.md
@src/app/admin/monitoring/page.tsx
@src/app/components/RecommendationStats.tsx
</context>

<tasks>

<task type="auto">
  <name>Create MLDashboard component</task>
  <files>src/app/components/MLDashboard.tsx</files>
  <action>
    Create admin ML dashboard component:
    1. Create `MLDashboard.tsx` as client component ('use client')
    2. Fetch stats from `/api/recommendations/stats`
    3. Display key metrics:
       - Total recommendations generated
       - Acceptance rate (shown vs. added to list)
       - Cold start users count
       - Active users with recommendations
       - Algorithm performance breakdown (success/failure per algorithm)
    4. Show discrepancy metrics: predicted acceptance vs actual
    5. Show model correction controls (future Phase 15)
    6. Use existing UI patterns (cards, tables) from admin pages
  </action>
  <verify>
    - Run `npm run lint` passes
    - Component renders without errors
  </verify>
  <done>
    MLDashboard component shows algorithm performance metrics
  </done>
</task>

<task type="auto">
  <name>Integrate MLDashboard into admin monitoring page</task>
  <files>src/app/admin/monitoring/page.tsx</files>
  <action>
    Update admin monitoring page to include ML Dashboard:
    1. Import MLDashboard component
    2. Add section "ML Мониторинг" below RecommendationStats
    3. Wrap in Suspense with appropriate skeleton
  </action>
  <verify>
    - Run `npm run lint` passes
    - Admin page loads without errors
  </verify>
  <done>
    Admin can view ML performance metrics in monitoring page
  </done>
</task>

</tasks>

<verification>
- Run `npm run lint` - no errors
- Access /admin/monitoring as admin user
- Verify ML dashboard displays metrics
</verification>

<success_criteria>
- [ ] Admin can view recommendation algorithm performance
- [ ] Admin can see discrepancy metrics
- [ ] Dashboard is integrated into admin monitoring page
</success_criteria>

<output>
After completion, create `.planning/phases/14-ui-integration/14-02-SUMMARY.md`
</output>
