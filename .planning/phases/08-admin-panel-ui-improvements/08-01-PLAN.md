---
phase: 08-admin-panel-ui-improvements
plan: '01'
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/admin/AdminSidebar.tsx
  - src/app/admin/users/page.tsx
autonomous: true
requirements: []
must_haves:
  truths:
    - Sidebar shows only icons with tooltips, no text labels
    - Sidebar has no "Back to site" link
    - User table has no Status column/filter
    - Filters have Go button, no auto-filtering
    - "Рекомендаций" column shortened to "Реком."
    - Table shows 25 users per page with pagination below
    - "Verified" badge removed from page
    - Stats cards (total movies, recommendations, matches) appear above table
  artifacts:
    - path: src/app/admin/AdminSidebar.tsx
      provides: Sidebar with icons only and tooltips
    - path: src/app/admin/users/page.tsx
      provides: Updated user table with all UI changes
---

<objective>
Redesign admin panel UI at /admin with the following changes:

1. Sidebar: Icons only with tooltips, remove "Back to site"
2. admin/users: Remove Status column/filter, add Go button to filters (manual search), shorten column, 25/page with pagination below, remove Verified badge, add stats cards above table

Output: Updated admin panel with all UI improvements.
</objective>

<context>
@src/app/admin/AdminSidebar.tsx
@src/app/admin/users/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Update sidebar to icons only</name>
  <files>src/app/admin/AdminSidebar.tsx</files>
  <action>
1. Remove text labels from sidebar menu items (Дашборд, Пользователи, Приглашения, Мониторинг)
2. Keep only icons
3. Add tooltip on hover showing the menu item name
4. Remove "Back to site" link entirely
5. Ensure responsive behavior still works
</action>
  <verify>Sidebar shows icons only, tooltips appear on hover</verify>
  <done>Sidebar with icons and tooltips, no text, no back link</done>
</task>

<task type="auto">
  <name>Update user table UI</name>
<files>src/app/admin/users/page.tsx</files>
<action>
For admin/users page:
1. Remove Status filter dropdown and Status column from table
2. Add "Go" button to filter inputs - filters only apply when button clicked (remove auto-filtering)
3. Rename "Рекомендаций" column header to "Реком."
4. Change page size to 25 users per page
5. Move pagination controls below the table
6. Remove "Verified" / "Подтверждённых" badge/plashka from above table
</action>
<verify>All UI changes visible in admin/users</verify>
<done>User table updated with all requested UI changes</done>
</task>

<task type="auto">
  <name>Add stats cards above user table</name>
<files>src/app/admin/users/page.tsx</files>
<action>
Add 3 stat cards above the user table (but below any existing summary cards):
1. Всего фильмов в списках - count all watchlist records with any status
2. Всего рекомендаций - count all recommendation records
3. Всего совпадений - count all match records (watchlist items that match with other users)

These should be simple stat cards similar to existing ones, showing numbers.
</action>
<verify>3 stats cards visible above user table</verify>
<done>Stats cards added showing site-wide movie/recommendation/match counts</done>
</task>

<task type="auto">
  <name>Check responsive design</name>
<files>src/app/admin/AdminSidebar.tsx</files>
<action>
Verify the admin panel works on different screen sizes:
1. Test sidebar collapse behavior on mobile
2. Ensure table is scrollable on small screens
3. Check that stats cards stack properly on mobile
</action>
<verify>No horizontal scroll, readable on mobile</verify>
<done>Admin panel responsive on all screen sizes</done>
</task>

</tasks>

<verification>
- [ ] Sidebar shows only icons with tooltips
- [ ] No "Back to site" in sidebar
- [ ] Status column/filter removed from table
- [ ] Go button on filters works
- [ ] Column renamed to "Реком."
- [ ] 25 users per page
- [ ] Pagination below table
- [ ] Verified badge removed
- [ ] 3 stats cards above table
- [ ] Responsive design works
</verification>

<success_criteria>
Admin panel UI improved with cleaner sidebar, updated user table, and site-wide stats.
</success_criteria>

<output>
After completion, create `.planning/phases/08-admin-panel-ui-improvements/08-01-SUMMARY.md`
</output>
